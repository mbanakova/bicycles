<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Moon - магазин велосипедов</title>
  <link rel="preload" href="fonts/open-sans-light.woff2" as="font" crossorigin="">
  <link rel="preload" href="fonts/open-sans-regular.woff2" as="font" crossorigin="">
  <link rel="preload" href="fonts/open-sans-semibold.woff2" as="font" crossorigin="">
  <link rel="preload" href="fonts/open-sans-bold.woff2" as="font" crossorigin="">
  <link rel="stylesheet" href="css/style.min.css">
</head>

<body class="body body--nojs">
  <header class="header header--nojs">
    <picture>
      <source type="image/webp" media="(max-width: 767px)" srcset="img/header-mob.webp, img/header-mob@2.webp 2x">
      <source type="image/webp" media="(max-width: 1023px)" srcset="img/header-tab.webp, img/header-tab@2.webp 2x">
      <source type="image/webp" srcset="img/header-desk.webp, img/header-desk@2.webp 2x">
      <source media="(max-width: 767px)" srcset="img/header-mob.jpg, img/header-mob@2.jpg 2x">
      <source media="(max-width: 1023px)" srcset="img/header-tab.jpg, img/header-tab@2.png 2x">
      <img class="header__img" src="img/header-desk.jpg" srcset="img/header-desk@2.jpg 2x" width="1440" height="825" alt="Велосипед на тёмном фоне">
    </picture>

    <div class="container container--header">
      <nav class="header__nav nav nav--opened nav--nojs">
        <ul class="nav__list">
          <li class="nav__item">
            <a class="nav__link" href="#facts">О нас</a>
          </li>
          <li class="nav__item">
            <a class="nav__link" href="#types">Виды велосипедов</a>
          </li>
          <li class="nav__item">
            <a class="nav__link" href="#video">Видео про велосипеды</a>
          </li>
          <li class="nav__item">
            <a class="nav__link" href="#contacts">Контакты</a>
          </li>
        </ul>
        <button class="nav__burger nav__burger--opened" aria-label="Бургер-меню"></button>
      </nav>

      <div class="header__wrapper">
        <div class="header__intro">
          <a class="header__logo-link">
            <svg class="header__logo" width="68" height="21" role="img" aria-label="Логотип MooN">
              <use xlink:href="img/sprite_auto.svg#icon-logo"></use>
            </svg>
          </a>
          <p class="header__title">Мы продаем велосипеды</p>
          <p class="header__text">Наш магазин отбирает только самые лучшие велосипеды для продажи</p>
        </div>

        <form class="header__form form" action="https://echo.htmlacademy.ru" method="post">
          <p class="form__text">Заполните поля ниже и мы подберем велосипед Вашей мечты</p>
          <input class="form__input" type="text" name="user-name" id="user-name" placeholder="Введите Ваше Имя" required="">
          <label class="visually-hidden" for="user-name">Имя пользователя</label>
          <input class="form__input" type="text" name="user-phone" id="user-phone" placeholder="Введите Ваш номер телефона" required="">
          <label class="visually-hidden" for="user-phone">Контактный телефон</label>
          <button class="form__submit" type="submit">Подобрать велосипед мечты</button>
        </form>
      </div>
    </div>
  </header>

  <main>
    <h1 class="visually-hidden">Moon - магазин велосипедов</h1>
    <section class="facts" id="facts">
      <div class="container">
        <h2 class="section-title">Несколько фактов о нас</h2>
        <ol class="facts__list">
          <li class="facts__item">Самый широкий выбор велосипедов!</li>
          <li class="facts__item">Доставка велосипедов по всей России!</li>
          <li class="facts__item">Большой выбор крутых аксессуаров!</li>
          <li class="facts__item">Профессиональные консультации!</li>
        </ol>
      </div>
    </section>

    <section class="types" id="types">
      <div class="container">
        <h2 class="section-title">Виды велосипедов</h2>
        <ul class="types__list">
          <li class="types__item types__item--road">
            <picture>
              <source type="image/webp" media="(max-width: 1023px)" srcset="img/bike-road-tab.webp, img/bike-road-tab@2.webp 2x">
              <source type="image/webp" srcset="img/bike-road-desk.webp, img/bike-road-desk@2.webp 2x">
              <source media="(max-width: 1023px)" srcset="img/bike-road-tab.png, img/bike-road-tab@2.png 2x">
              <img class="types__img" src="img/bike-road-desk.png" srcset="img/bike-road-desk@2.png 2x" width="342" height="503" alt="Велосипед у стены">
            </picture>
            <p class="types__description">Дорожный велосипед</p>
          </li>
          <li class="types__item types__item--mount">
            <picture>
            <source type="image/webp" media="(max-width: 1023px)" srcset="img/bike-mount-tab.webp, img/bike-mount-tab@2.webp 2x">
            <source type="image/webp" srcset="img/bike-mount-desk.webp, img/bike-mount-desk@2.webp 2x">
              <source media="(max-width: 1023px)" srcset="img/bike-mount-tab.png, img/bike-mount-tab@2.png 2x">
              <img class="types__img" src="img/bike-mount-desk.png" srcset="img/bike-mount-desk@2.png 2x" width="342" height="566" alt="Велосипед на горе">
            </picture>
            <p class="types__description">Горный велосипед</p>
          </li>
          <li class="types__item types__item--kid">
            <picture>
              <source type="image/webp" media="(max-width: 1023px)" srcset="img/bike-kid-tab.webp, img/bike-kid-tab@2.webp 2x">
              <source type="image/webp" srcset="img/bike-kid-desk.webp, img/bike-kid-desk@2.webp 2x">
              <source media="(max-width: 1023px)" srcset="img/bike-kid-tab.png, img/bike-kid-tab@2.png 2x">
              <img class="types__img types__img--upper" src="img/bike-kid-desk.png" srcset="img/bike-kid-desk@2.png 2x" width="342" height="512" alt="Розовый детский велосипед">
            </picture>
            <p class="types__description">Детский велосипед</p>
          </li>
        </ul>
      </div>
    </section>

    <section class="video" id="video">
      <div class="container">
        <h2 class="section-title section-title--white">Видео про велосипеды</h2>
        <p class="video__text">В этом видео мы подробно расскажем про особенности выбора велосипеда для себя.</p>
        <div class="video__clip">
          <picture>
            <source media="(max-width: 767px)" srcset="img/video-mob.png, img/video-mob@2.png 2x">
            <source media="(max-width: 1023px)" srcset="img/video-tab.png, img/video-tab@2.png 2x">
            <img class="video__img" src="img/video-desk.png" srcset="img/video-desk@2.png 2x" width="929" height="522" alt="Видеоплеер">
          </picture>
          <button class="video__play" type="button">
            <svg class="video__svg" width="14" height="19" role="img" aria-label="Кнопка play">
              <use xlink:href="img/sprite_auto.svg#icon-play"></use>
            </svg>
          </button>
        </div>
      </div>
    </section>
  </main>

  <footer class="contacts" id="contacts">
    <div class="container">
      <div class="contacts__top">
        <p class="section-title section-title--contacts-mob">Как нас найти?</p>
        <p class="contacts__text">Мы находимся по адресу: Санкт-Петербург, ул. Большая Конюшенная, д. 19</p>
      </div>
      <div class="contacts__location">
        <iframe class="contacts__iframe" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1998.5991043651595!2d30.320894616006086!3d59.93879418187624!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4696310fca5ba729%3A0xea9c53d4493c879f!2z0JHQvtC70YzRiNCw0Y8g0JrQvtC90Y7RiNC10L3QvdCw0Y8g0YPQuy4sIDE5LCDQodCw0L3QutGCLdCf0LXRgtC10YDQsdGD0YDQsywgMTkxMTg2!5e0!3m2!1sru!2sru!4v1610532166796!5m2!1sru!2sru" width="957" height="530" allowfullscreen="" tabindex="0">
        </iframe>
        <picture>
          <source type="image/webp" media="(max-width: 767px)" srcset="img/map-mob.webp, img/map-mob@2.webp 2x">
          <source type="image/webp" media="(max-width: 1023px)" srcset="img/map-tab.webp, img/map-tab@2.webp 2x">
          <source type="image/webp" srcset="img/map-desk.webp, img/map-desk@2.webp 2x">
          <source media="(max-width: 767px)" srcset="img/map-mob.png, img/map-mob@2.png 2x">
          <source media="(max-width: 1023px)" srcset="img/map-tab.png, img/map-tab@2.png 2x">
          <img class="contacts__image" src="img/map-desk.png" srcset="img/map-desk@2.png 2x" width="957" height="530" alt="Магазин на карте">
        </picture>
      </div>
      <ul class="contacts__list">
        <li class="contacts__item">
          <svg class="contacts__svg contacts__svg--mail" width="26" height="20" role="img" aria-label="Иконка-конверт">
            <use xlink:href="img/sprite_auto.svg#icon-envelope"></use>
          </svg>
          <a class="contacts__link" href="mailto:puteshestviemechta@gmail.ru">puteshestviemechta@gmail.ru</a>
        </li>
        <li class="contacts__item">
          <svg class="contacts__svg contacts__svg--phone" width="22" height="24" role="img" aria-label="Иконка-трубка">
            <use xlink:href="img/sprite_auto.svg#icon-phone"></use>
          </svg>
          <a class="contacts__link" href="tel:+749978468446">+7 (499) -784-684-46</a>
        </li>
      </ul>
    </div>
  </footer>

  <script>
    let body = document.querySelector('.body');
    let header = document.querySelector('.header');
    let mainNav = document.querySelector('.nav');
    let burger = document.querySelector('.nav__burger');
    let links = document.querySelectorAll('.nav__link');
    let form = document.querySelector('.form')
    let inputs = document.querySelectorAll('.form__input');
    let userName = document.querySelector('#user-name');
    let userPhone = document.querySelector('#user-phone');
    let submit = document.querySelector('.form__submit');
    let isStorageSupport = true;
    let storageName = '';
    let storagePhone = '';
    let modal = document.querySelector('.modal');

    body.classList.remove('body--nojs');
    header.classList.remove('header--nojs');
    mainNav.classList.remove('nav--nojs');
    burger.classList.remove('nav__burger--opened');
    mainNav.classList.remove('nav--opened');

    burger.addEventListener('click', () => {
      burger.classList.toggle('nav__burger--opened');
      mainNav.classList.toggle('nav--opened');
    })

    links.forEach(elem => {
      elem.addEventListener('click', () => {
        burger.classList.toggle('nav__burger--opened');
        mainNav.classList.toggle('nav--opened');
      })
    })

    inputs.forEach(elem => {
      elem.removeAttribute('required');
    });

    try {
      storageName = localStorage.getItem('user');
      storagePhone = localStorage.getItem('phone');
    } catch (err) {
      isStorageSupport = false;
    }

    if (storageName && storagePhone) {
      userName.value = storageName;
      userPhone.value = storagePhone;
    } else {
      userName.focus();
    }

    form.addEventListener('submit', (evt) => {
      evt.preventDefault();
      inputs.forEach(elem => {
        if (!elem.value) {
          elem.classList.remove('error');
          elem.offsetWidth = elem.offsetWidth;
          elem.classList.add('error');
        } else {
          if (isStorageSupport) {
            localStorage.setItem('user', userName.value);
            localStorage.setItem('phone', userPhone.value);
          }
          if (userName.value && userPhone.value) {
            submit.textContent = 'Ожидайте звонка!';
          }
        }
      });
    });

    document.addEventListener('click', () => {
      inputs.forEach(elem => {
        elem.classList.remove('error');
      });
      submit.textContent = 'Подобрать велосипед мечты';
    })

  </script>
</body>

</html>
